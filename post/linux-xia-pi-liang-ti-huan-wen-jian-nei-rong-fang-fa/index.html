<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux下批量替换文件内容方法 | Gridea</title>
<link rel="shortcut icon" href="https://github.com/favicon.ico?v=1621919285571">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://github.com/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Linux下批量替换文件内容方法 | Gridea - Atom Feed" href="https://github.com/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="1：查找
find . -type f -name &quot;*.html&quot;|xargs grep ‘yourstring’
2：查找并替换
find -name '要查找的文件名' | xargs perl -pi -e 's..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://github.com">
  <img class="avatar" src="https://github.com/images/avatar.png?v=1621919285571" alt="">
  </a>
  <h1 class="site-title">
    Gridea
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Linux下批量替换文件内容方法
            </h2>
            <div class="post-info">
              <span>
                2019-09-06
              </span>
              <span>
                3 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>1：查找<br>
find . -type f -name &quot;*.html&quot;|xargs grep ‘yourstring’</p>
<p>2：查找并替换<br>
find -name '要查找的文件名' | xargs perl -pi -e 's|被替换的字符串|替换后的字符串|g'</p>
<p>find ./ -name &quot;*.ini&quot;|xargs grep 'pinjamy.id'          查找</p>
<p>find ./ -name &quot;*.ini&quot;|xargs sed -i &quot;s/pinjamy.id/uatas.id/g&quot;    替换</p>
<p>perl -pi -e<br>
在Perl 命令中加上-e 选项，后跟一行代码，那它就会像运行一个普通的Perl 脚本那样运行该代码.</p>
<p>从命令行中使用Perl 能够帮助实现一些强大的、实时的转换。认真研究正则表达式，并正确地使用，将会为您省去大量的手工编辑工作。</p>
<p>3：批量修改文件夹权限</p>
<p>find . -type -d -name *.html|xargs chmod 755</p>
<p>4：批量修改文件权限</p>
<p>find . -type -f -name *.html|xargs chmod 644</p>
<p>查找和替换是很常用的操作。</p>
<p>这里介绍的小小技巧可以使你很轻松地完成大量重复、繁琐的工作。</p>
<p>以例子进行说明</p>
<p>在当前目录下的.c文件中查找字符串&quot;password&quot;<br>
grep &quot;password&quot; *.c</p>
<p>在当前目录及其多个子目录中查找文件test.c<br>
find . -name &quot;test.c&quot; -print</p>
<p>在当前目录及其多个子目录中查找.vbs文件并删除之<br>
find . -name &quot;*.vbs&quot; -exec rm {} ;</p>
<p>在当前目录及其多个子目录下的.c文件中查找字符串&quot;password&quot;<br>
find . -name &quot;*.c&quot; -print | xargs grep &quot;password&quot;</p>
<p>在当前目录下的.c文件中把字符串&quot;password&quot;替换成&quot;pwd&quot;<br>
perl -pi -e 's/password/pwd/g' *.c</p>
<p>在当前目录下的.c文件中把字符串&quot;password&quot;替换成&quot;pwd&quot;并以.bak扩展名备份<br>
perl -pi.bak -e 's/password/pwd/g' *.c</p>
<p>在当前目录及子目录下的.c文件中替换字符串&quot;password&quot;为&quot;pwd&quot;<br>
find . -name &quot;*.c&quot; -print | xargs perl -pi -e 's/password/pwd/g'</p>
<p>使用sed操作批量替换</p>
<p>格式: sed -i &quot;s/查找字段/替换字段/g&quot; <code>grep 查找字段 -rl 路径</code></p>
<p>linux sed 批量替换多个文件中的字符串</p>
<p>sed -i &quot;s/oldstring/newstring/g&quot; <code>grep oldstring -rl yourdir</code></p>
<p>例如：替换/home下所有文件中的www.viiving.com为www.zjant.com</p>
<p>sed -i &quot;s/www.viiving.com/www.zjant.com/g&quot; `grep www.viiving.com -rl /mysites</p>
<p>在当前目录下操作：sed -i &quot;s/www.viiving.com/www.zjant.com/g&quot; *</p>

              </div>
              <div class="toc-container">
                
              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://github.com/post/chu-tan-linux-nei-he-tai-tong-guo-proc-wen-jian-xi-tong-zuo-kuai-su-wen-ti-ding-wei/">
              <h3 class="post-title">
                初探Linux内核态——通过proc文件系统作快速问题定位
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://github.com/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
